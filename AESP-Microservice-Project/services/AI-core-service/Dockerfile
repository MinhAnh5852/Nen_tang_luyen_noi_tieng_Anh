# Sá»­ dá»¥ng Python báº£n á»•n Ä‘á»‹nh
FROM python:3.10-slim

# CÃ i Ä‘áº·t FFmpeg (cho Whisper AI)
RUN apt-get update && apt-get install -y ffmpeg && rm -rf /var/lib/apt/lists/*

# Thiáº¿t láº­p thÆ° má»¥c lÃ m viá»‡c
WORKDIR /app

# Copy file nÃ y cho cÃ³ lá»‡ (Ä‘á»ƒ trÃ¡nh lá»—i code cÅ©)
COPY requirements.txt .

# ğŸ”¥ CHIÃŠU CUá»I: CÃ i trá»±c tiáº¿p táº¥t cáº£ thÆ° viá»‡n táº¡i Ä‘Ã¢y (Báº¥t cháº¥p file requirements lá»—i) ğŸ”¥
# Danh sÃ¡ch nÃ y bao gá»“m: FastAPI, Database, AI, vÃ  Groq
RUN pip install --no-cache-dir fastapi uvicorn sqlalchemy mysql-connector-python groq python-dotenv python-multipart requests openai-whisper

# Copy toÃ n bá»™ code vÃ o container
COPY . .

# Cháº¡y lá»‡nh khá»Ÿi Ä‘á»™ng server
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8001"]