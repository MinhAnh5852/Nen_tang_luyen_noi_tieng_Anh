<div class="content-card">
    <h2 style="margin-top:0; color:#1e293b;">Tiến Độ Học Viên</h2>
    
    <div style="display: flex; gap: 20px; margin-bottom: 30px; align-items: center; background: #f8fafc; padding: 20px; border-radius: 12px;">
        <div style="flex: 1;">
            <label style="display:block; margin-bottom: 8px; font-weight: bold; color: #64748b;">Chọn học viên cần xem:</label>
            <select id="prog-student-select" class="form-control" style="width: 100%; padding: 12px;" onchange="loadLearnerStats(this.value)">
                <option value="">-- Đang tải danh sách... --</option>
            </select>
        </div>
        <div style="flex: 2;">
            <p style="margin: 0; font-size: 0.9rem; color: #64748b;">
                <i class="fa-solid fa-circle-info"></i> 
                Chọn một học viên để xem biểu đồ năng lực, điểm số trung bình và lịch sử bài học gần nhất.
            </p>
        </div>
    </div>

    <div id="progress-container" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
            <div class="mini-card" style="background:#eff6ff; text-align: center; padding: 20px;">
                <h3 id="p-score" style="margin:0; font-size: 2rem; color: #2563eb;">--</h3>
                <p style="margin:0; color: #64748b;">Điểm Trung Bình</p>
            </div>
            <div class="mini-card" style="background:#f0fdf4; text-align: center; padding: 20px;">
                <h3 id="p-completed" style="margin:0; font-size: 2rem; color: #16a34a;">--/30</h3>
                <p style="margin:0; color: #64748b;">Bài đã học</p>
            </div>
            <div class="mini-card" style="background:#fefce8; text-align: center; padding: 20px;">
                <h3 id="p-active" style="margin:0; font-size: 1.2rem; color: #ca8a04; line-height: 2.5rem;">--</h3>
                <p style="margin:0; color: #64748b;">Hoạt động gần nhất</p>
            </div>
        </div>

        <h3 style="color:#334155;">Biểu đồ kỹ năng</h3>
        <div style="margin-bottom: 30px; border: 1px solid #e2e8f0; padding: 20px; border-radius: 12px;">
            <div style="margin-bottom: 15px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>Speaking</span><span id="v-speaking">0%</span></div>
                <div style="background:#f1f5f9; height:10px; border-radius:5px;"><div id="b-speaking" style="width:0%; height:100%; background:#3b82f6; border-radius:5px; transition: 1s;"></div></div>
            </div>
            <div style="margin-bottom: 15px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>Listening</span><span id="v-listening">0%</span></div>
                <div style="background:#f1f5f9; height:10px; border-radius:5px;"><div id="b-listening" style="width:0%; height:100%; background:#10b981; border-radius:5px; transition: 1s;"></div></div>
            </div>
            <div style="margin-bottom: 15px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>Vocabulary</span><span id="v-vocabulary">0%</span></div>
                <div style="background:#f1f5f9; height:10px; border-radius:5px;"><div id="b-vocabulary" style="width:0%; height:100%; background:#f59e0b; border-radius:5px; transition: 1s;"></div></div>
            </div>
        </div>

        <h3 style="color:#334155;">Lịch sử bài học</h3>
        <table class="table" style="width:100%; border-collapse: collapse;">
            <thead style="background:#f8fafc; text-align:left;">
                <tr><th style="padding:10px;">Ngày</th><th style="padding:10px;">Bài học</th><th style="padding:10px;">Điểm</th></tr>
            </thead>
            <tbody id="p-history-body"></tbody>
        </table>
    </div>

    <img src="x" onerror="if(window.initProgressPage) window.initProgressPage(); this.remove();" style="display:none;">
</div>